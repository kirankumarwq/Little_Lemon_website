{
    "sourceFile": "src/components/pages/auth/Profile.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 15,
            "patches": [
                {
                    "date": 1739105242964,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1739105517216,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useState, useEffect } from \"react\";\r\n-import { auth } from \"../../firebaseConfig\";\r\n+import { auth } from \"../../../firebaseConfig\";\r\n import { updateProfile, updateEmail, updatePassword } from \"firebase/auth\";\r\n import { useNavigate } from \"react-router-dom\";\r\n import \"./auth.css\";\r\n \r\n"
                },
                {
                    "date": 1739107776579,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n import React, { useState, useEffect } from \"react\";\r\n-import { auth } from \"../../../firebaseConfig\";\r\n-import { updateProfile, updateEmail, updatePassword } from \"firebase/auth\";\r\n+import { auth } from \";\r\n+import { updateProfile, updateEmail, updatePassword } from \r\n import { useNavigate } from \"react-router-dom\";\r\n import \"./auth.css\";\r\n \r\n const Profile = () => {\r\n"
                },
                {
                    "date": 1739108665038,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,48 +1,41 @@\n import React, { useState, useEffect } from \"react\";\r\n-import { auth } from \";\r\n-import { updateProfile, updateEmail, updatePassword } from \r\n+import { supabase } from \"../../supabaseConfig\";\r\n import { useNavigate } from \"react-router-dom\";\r\n import \"./auth.css\";\r\n \r\n const Profile = () => {\r\n-  const user = auth.currentUser;\r\n   const navigate = useNavigate();\r\n-\r\n-  const [name, setName] = useState(user?.displayName || \"\");\r\n-  const [email, setEmail] = useState(user?.email || \"\");\r\n-  const [password, setPassword] = useState(\"\");\r\n+  const [user, setUser] = useState(null);\r\n+  const [name, setName] = useState(\"\");\r\n+  const [email, setEmail] = useState(\"\");\r\n   const [message, setMessage] = useState(\"\");\r\n \r\n   useEffect(() => {\r\n-    if (user) {\r\n-      setName(user.displayName || \"\");\r\n-      setEmail(user.email || \"\");\r\n-    }\r\n-  }, [user]);\r\n+    const fetchUser = async () => {\r\n+      const { data: user, error } = await supabase.auth.getUser();\r\n+      if (error) setMessage(error.message);\r\n+      else {\r\n+        setUser(user);\r\n+        setName(user?.user_metadata?.full_name || \"\");\r\n+        setEmail(user?.email || \"\");\r\n+      }\r\n+    };\r\n+    fetchUser();\r\n+  }, []);\r\n \r\n   const handleUpdateProfile = async (e) => {\r\n     e.preventDefault();\r\n-    setMessage(\"\");\r\n-\r\n-    try {\r\n-      if (name !== user.displayName) {\r\n-        await updateProfile(user, { displayName: name });\r\n-      }\r\n-      if (email !== user.email) {\r\n-        await updateEmail(user, email);\r\n-      }\r\n-      if (password) {\r\n-        await updatePassword(user, password);\r\n-      }\r\n-      setMessage(\"Profile updated successfully!\");\r\n-    } catch (error) {\r\n-      setMessage(error.message);\r\n-    }\r\n+    const { error } = await supabase.auth.updateUser({\r\n+      data: { full_name: name },\r\n+      email,\r\n+    });\r\n+    if (error) setMessage(error.message);\r\n+    else setMessage(\"Profile updated!\");\r\n   };\r\n \r\n   const handleLogout = async () => {\r\n-    await auth.signOut();\r\n+    await supabase.auth.signOut();\r\n     navigate(\"/login\");\r\n   };\r\n \r\n   return (\r\n@@ -50,10 +43,9 @@\n       <h2>Update Profile</h2>\r\n       {message && <p className=\"message\">{message}</p>}\r\n       <form onSubmit={handleUpdateProfile}>\r\n         <input type=\"text\" placeholder=\"Name\" value={name} onChange={(e) => setName(e.target.value)} />\r\n-        <input type=\"email\" placeholder=\"Email\" value={email} onChange={(e) => setEmail(e.target.value)} />\r\n-        <input type=\"password\" placeholder=\"New Password (optional)\" value={password} onChange={(e) => setPassword(e.target.value)} />\r\n+        <input type=\"email\" placeholder=\"Email\" value={email} disabled />\r\n         <button type=\"submit\">Update Profile</button>\r\n       </form>\r\n       <button className=\"logout-btn\" onClick={handleLogout}>Logout</button>\r\n     </div>\r\n"
                },
                {
                    "date": 1739108762944,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useState, useEffect } from \"react\";\r\n-import { supabase } from \"../../supabaseConfig\";\r\n+import { supabase } from \"../.../supabaseConfig\";\r\n import { useNavigate } from \"react-router-dom\";\r\n import \"./auth.css\";\r\n \r\n const Profile = () => {\r\n"
                },
                {
                    "date": 1739108877168,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useState, useEffect } from \"react\";\r\n-import { supabase } from \"../.../supabaseConfig\";\r\n+import { supabase } from \"../../../supabaseConfig\";\r\n import { useNavigate } from \"react-router-dom\";\r\n import \"./auth.css\";\r\n \r\n const Profile = () => {\r\n"
                },
                {
                    "date": 1739189231367,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,53 +1,69 @@\n import React, { useState, useEffect } from \"react\";\r\n-import { supabase } from \"../../../supabaseConfig\";\r\n+import { supabase } from \"../../supabaseConfig\";\r\n import { useNavigate } from \"react-router-dom\";\r\n-import \"./auth.css\";\r\n+import \"./profile.css\";\r\n \r\n const Profile = () => {\r\n   const navigate = useNavigate();\r\n   const [user, setUser] = useState(null);\r\n   const [name, setName] = useState(\"\");\r\n   const [email, setEmail] = useState(\"\");\r\n-  const [message, setMessage] = useState(\"\");\r\n+  const [bookings, setBookings] = useState([]);\r\n+  const [orders, setOrders] = useState([]);\r\n \r\n   useEffect(() => {\r\n     const fetchUser = async () => {\r\n-      const { data: user, error } = await supabase.auth.getUser();\r\n-      if (error) setMessage(error.message);\r\n-      else {\r\n-        setUser(user);\r\n-        setName(user?.user_metadata?.full_name || \"\");\r\n-        setEmail(user?.email || \"\");\r\n+      const { data: user } = await supabase.auth.getUser();\r\n+      if (user?.user) {\r\n+        setUser(user.user);\r\n+        setName(user.user.user_metadata.full_name || \"Guest\");\r\n+        setEmail(user.user.email);\r\n+      } else {\r\n+        navigate(\"/login\"); // Redirect if not logged in\r\n       }\r\n     };\r\n+\r\n     fetchUser();\r\n-  }, []);\r\n+  }, [navigate]);\r\n \r\n-  const handleUpdateProfile = async (e) => {\r\n-    e.preventDefault();\r\n-    const { error } = await supabase.auth.updateUser({\r\n-      data: { full_name: name },\r\n-      email,\r\n-    });\r\n-    if (error) setMessage(error.message);\r\n-    else setMessage(\"Profile updated!\");\r\n-  };\r\n-\r\n   const handleLogout = async () => {\r\n     await supabase.auth.signOut();\r\n     navigate(\"/login\");\r\n   };\r\n \r\n   return (\r\n-    <div className=\"auth-container\">\r\n-      <h2>Update Profile</h2>\r\n-      {message && <p className=\"message\">{message}</p>}\r\n-      <form onSubmit={handleUpdateProfile}>\r\n-        <input type=\"text\" placeholder=\"Name\" value={name} onChange={(e) => setName(e.target.value)} />\r\n-        <input type=\"email\" placeholder=\"Email\" value={email} disabled />\r\n-        <button type=\"submit\">Update Profile</button>\r\n-      </form>\r\n+    <div className=\"profile-container\">\r\n+      <div className=\"profile-header\">\r\n+        <div className=\"profile-pic\">\r\n+          {name.charAt(0).toUpperCase()}\r\n+        </div>\r\n+        <h2>{name}</h2>\r\n+        <p>{email}</p>\r\n+      </div>\r\n+\r\n+      <div className=\"profile-section\">\r\n+        <h3>Table Bookings</h3>\r\n+        {bookings.length > 0 ? (\r\n+          bookings.map((booking, index) => (\r\n+            <p key={index}>Table for {booking.guests} on {booking.date} at {booking.time}</p>\r\n+          ))\r\n+        ) : (\r\n+          <p>No bookings yet.</p>\r\n+        )}\r\n+      </div>\r\n+\r\n+      <div className=\"profile-section\">\r\n+        <h3>Online Orders</h3>\r\n+        {orders.length > 0 ? (\r\n+          orders.map((order, index) => (\r\n+            <p key={index}>{order.item} - {order.quantity}</p>\r\n+          ))\r\n+        ) : (\r\n+          <p>No orders yet.</p>\r\n+        )}\r\n+      </div>\r\n+\r\n       <button className=\"logout-btn\" onClick={handleLogout}>Logout</button>\r\n     </div>\r\n   );\r\n };\r\n"
                },
                {
                    "date": 1739189243449,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useState, useEffect } from \"react\";\r\n-import { supabase } from \"../../supabaseConfig\";\r\n+import { supabase } from \"../../../supabaseConfig\";\r\n import { useNavigate } from \"react-router-dom\";\r\n import \"./profile.css\";\r\n \r\n const Profile = () => {\r\n"
                },
                {
                    "date": 1739450186192,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,70 +1,83 @@\n-import React, { useState, useEffect } from \"react\";\r\n-import { supabase } from \"../../../supabaseConfig\";\r\n-import { useNavigate } from \"react-router-dom\";\r\n-import \"./profile.css\";\r\n+import React, { useState } from \"react\";\r\n+import \"./Profile.css\"; // Import CSS for styling\r\n \r\n const Profile = () => {\r\n-  const navigate = useNavigate();\r\n-  const [user, setUser] = useState(null);\r\n-  const [name, setName] = useState(\"\");\r\n-  const [email, setEmail] = useState(\"\");\r\n-  const [bookings, setBookings] = useState([]);\r\n-  const [orders, setOrders] = useState([]);\r\n+  const [activeTab, setActiveTab] = useState(\"main\");\r\n+  const [name, setName] = useState(\"John Doe\");\r\n+  const [mobile, setMobile] = useState(\"+1234567890\");\r\n+  const [profilePic, setProfilePic] = useState(null);\r\n \r\n-  useEffect(() => {\r\n-    const fetchUser = async () => {\r\n-      const { data: user } = await supabase.auth.getUser();\r\n-      if (user?.user) {\r\n-        setUser(user.user);\r\n-        setName(user.user.user_metadata.full_name || \"Guest\");\r\n-        setEmail(user.user.email);\r\n-      } else {\r\n-        navigate(\"/login\"); // Redirect if not logged in\r\n-      }\r\n-    };\r\n-\r\n-    fetchUser();\r\n-  }, [navigate]);\r\n-\r\n-  const handleLogout = async () => {\r\n-    await supabase.auth.signOut();\r\n-    navigate(\"/login\");\r\n+  const handleTabChange = (tab) => setActiveTab(tab);\r\n+  \r\n+  const handleProfilePicChange = (e) => {\r\n+    const file = e.target.files[0];\r\n+    if (file) {\r\n+      setProfilePic(URL.createObjectURL(file));\r\n+    }\r\n   };\r\n \r\n   return (\r\n     <div className=\"profile-container\">\r\n-      <div className=\"profile-header\">\r\n-        <div className=\"profile-pic\">\r\n-          {name.charAt(0).toUpperCase()}\r\n+      {/* Tab Navigation */}\r\n+      <div className=\"profile-tabs\">\r\n+        <button className={activeTab === \"main\" ? \"active\" : \"\"} onClick={() => handleTabChange(\"main\")}>\r\n+          Main\r\n+        </button>\r\n+        <button className={activeTab === \"profile\" ? \"active\" : \"\"} onClick={() => handleTabChange(\"profile\")}>\r\n+          Profile\r\n+        </button>\r\n+        <button className={activeTab === \"activities\" ? \"active\" : \"\"} onClick={() => handleTabChange(\"activities\")}>\r\n+          Activities\r\n+        </button>\r\n+        <button className={activeTab === \"recent\" ? \"active\" : \"\"} onClick={() => handleTabChange(\"recent\")}>\r\n+          Recent Orders\r\n+        </button>\r\n+      </div>\r\n+      \r\n+      {/* Main Section */}\r\n+      {activeTab === \"main\" && (\r\n+        <div className=\"tab-content\">\r\n+          <h2>Upcoming Table Reservations</h2>\r\n+          <p>No upcoming reservations.</p>\r\n         </div>\r\n-        <h2>{name}</h2>\r\n-        <p>{email}</p>\r\n-      </div>\r\n-\r\n-      <div className=\"profile-section\">\r\n-        <h3>Table Bookings</h3>\r\n-        {bookings.length > 0 ? (\r\n-          bookings.map((booking, index) => (\r\n-            <p key={index}>Table for {booking.guests} on {booking.date} at {booking.time}</p>\r\n-          ))\r\n-        ) : (\r\n-          <p>No bookings yet.</p>\r\n-        )}\r\n-      </div>\r\n-\r\n-      <div className=\"profile-section\">\r\n-        <h3>Online Orders</h3>\r\n-        {orders.length > 0 ? (\r\n-          orders.map((order, index) => (\r\n-            <p key={index}>{order.item} - {order.quantity}</p>\r\n-          ))\r\n-        ) : (\r\n-          <p>No orders yet.</p>\r\n-        )}\r\n-      </div>\r\n-\r\n-      <button className=\"logout-btn\" onClick={handleLogout}>Logout</button>\r\n+      )}\r\n+      \r\n+      {/* Profile Section */}\r\n+      {activeTab === \"profile\" && (\r\n+        <div className=\"tab-content\">\r\n+          <h2>Edit Profile</h2>\r\n+          <div className=\"profile-pic-section\">\r\n+            <img src={profilePic || \"default-profile.png\"} alt=\"Profile\" className=\"profile-pic\" />\r\n+            <input type=\"file\" accept=\"image/*\" onChange={handleProfilePicChange} />\r\n+          </div>\r\n+          <div className=\"form-group\">\r\n+            <label>Name:</label>\r\n+            <input type=\"text\" value={name} onChange={(e) => setName(e.target.value)} />\r\n+          </div>\r\n+          <div className=\"form-group\">\r\n+            <label>Mobile Number:</label>\r\n+            <input type=\"text\" value={mobile} onChange={(e) => setMobile(e.target.value)} />\r\n+          </div>\r\n+          <button className=\"save-btn\">Save Changes</button>\r\n+        </div>\r\n+      )}\r\n+      \r\n+      {/* Activities Section */}\r\n+      {activeTab === \"activities\" && (\r\n+        <div className=\"tab-content\">\r\n+          <h2>Table Reservation History</h2>\r\n+          <p>No past reservations.</p>\r\n+        </div>\r\n+      )}\r\n+      \r\n+      {/* Recent Orders Section */}\r\n+      {activeTab === \"recent\" && (\r\n+        <div className=\"tab-content\">\r\n+          <h2>Recent Online Orders</h2>\r\n+          <p>No recent orders.</p>\r\n+        </div>\r\n+      )}\r\n     </div>\r\n   );\r\n };\r\n \r\n"
                },
                {
                    "date": 1739450197938,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useState } from \"react\";\r\n-import \"./Profile.css\"; // Import CSS for styling\r\n+import \"./profile.css\"; // Import CSS for styling\r\n \r\n const Profile = () => {\r\n   const [activeTab, setActiveTab] = useState(\"main\");\r\n   const [name, setName] = useState(\"John Doe\");\r\n"
                },
                {
                    "date": 1739453147398,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,83 +1,111 @@\n-import React, { useState } from \"react\";\r\n-import \"./profile.css\"; // Import CSS for styling\r\n+import React, { useState, useEffect } from \"react\";\r\n+import { supabase } from \"../../../supabaseConfig\";\r\n+import { useNavigate } from \"react-router-dom\";\r\n+import \"./profile.css\";\r\n \r\n const Profile = () => {\r\n+  const navigate = useNavigate();\r\n+  const [user, setUser] = useState(null);\r\n+  const [name, setName] = useState(\"\");\r\n+  const [email, setEmail] = useState(\"\");\r\n+  const [mobile, setMobile] = useState(\"\");\r\n+  const [bookings, setBookings] = useState([]);\r\n+  const [orders, setOrders] = useState([]);\r\n+  const [profilePic, setProfilePic] = useState(\"\");\r\n   const [activeTab, setActiveTab] = useState(\"main\");\r\n-  const [name, setName] = useState(\"John Doe\");\r\n-  const [mobile, setMobile] = useState(\"+1234567890\");\r\n-  const [profilePic, setProfilePic] = useState(null);\r\n \r\n-  const handleTabChange = (tab) => setActiveTab(tab);\r\n-  \r\n-  const handleProfilePicChange = (e) => {\r\n-    const file = e.target.files[0];\r\n-    if (file) {\r\n-      setProfilePic(URL.createObjectURL(file));\r\n-    }\r\n+  useEffect(() => {\r\n+    const fetchUser = async () => {\r\n+      const { data: user } = await supabase.auth.getUser();\r\n+      if (user?.user) {\r\n+        setUser(user.user);\r\n+        setName(user.user.user_metadata.full_name || \"Guest\");\r\n+        setEmail(user.user.email);\r\n+        setMobile(user.user.user_metadata.mobile || \"\");\r\n+        setProfilePic(\r\n+          user.user.user_metadata.avatar_url ||\r\n+            `https://api.dicebear.com/7.x/identicon/svg?seed=${user.user.id || \"default\"}`\r\n+        );\r\n+      } else {\r\n+        navigate(\"/login\");\r\n+      }\r\n+    };\r\n+\r\n+    fetchUser();\r\n+  }, [navigate]);\r\n+\r\n+  const handleLogout = async () => {\r\n+    await supabase.auth.signOut();\r\n+    navigate(\"/login\");\r\n   };\r\n \r\n   return (\r\n     <div className=\"profile-container\">\r\n-      {/* Tab Navigation */}\r\n+      <div className=\"profile-header\">\r\n+        <img src={profilePic} alt=\"Profile\" className=\"profile-pic\" />\r\n+        <h2>{name}</h2>\r\n+        <p>{email}</p>\r\n+      </div>\r\n+\r\n       <div className=\"profile-tabs\">\r\n-        <button className={activeTab === \"main\" ? \"active\" : \"\"} onClick={() => handleTabChange(\"main\")}>\r\n-          Main\r\n-        </button>\r\n-        <button className={activeTab === \"profile\" ? \"active\" : \"\"} onClick={() => handleTabChange(\"profile\")}>\r\n-          Profile\r\n-        </button>\r\n-        <button className={activeTab === \"activities\" ? \"active\" : \"\"} onClick={() => handleTabChange(\"activities\")}>\r\n-          Activities\r\n-        </button>\r\n-        <button className={activeTab === \"recent\" ? \"active\" : \"\"} onClick={() => handleTabChange(\"recent\")}>\r\n-          Recent Orders\r\n-        </button>\r\n+        <button onClick={() => setActiveTab(\"main\")}>Main</button>\r\n+        <button onClick={() => setActiveTab(\"profile\")}>Profile</button>\r\n+        <button onClick={() => setActiveTab(\"activities\")}>Activities</button>\r\n+        <button onClick={() => setActiveTab(\"recent\")}>Recent Orders</button>\r\n       </div>\r\n-      \r\n-      {/* Main Section */}\r\n-      {activeTab === \"main\" && (\r\n-        <div className=\"tab-content\">\r\n-          <h2>Upcoming Table Reservations</h2>\r\n-          <p>No upcoming reservations.</p>\r\n-        </div>\r\n-      )}\r\n-      \r\n-      {/* Profile Section */}\r\n-      {activeTab === \"profile\" && (\r\n-        <div className=\"tab-content\">\r\n-          <h2>Edit Profile</h2>\r\n-          <div className=\"profile-pic-section\">\r\n-            <img src={profilePic || \"default-profile.png\"} alt=\"Profile\" className=\"profile-pic\" />\r\n-            <input type=\"file\" accept=\"image/*\" onChange={handleProfilePicChange} />\r\n+\r\n+      <div className=\"profile-content\">\r\n+        {activeTab === \"main\" && (\r\n+          <div>\r\n+            <h3>Upcoming Table Reservations</h3>\r\n+            {bookings.length > 0 ? (\r\n+              bookings.map((booking, index) => (\r\n+                <p key={index}>Table for {booking.guests} on {booking.date} at {booking.time}</p>\r\n+              ))\r\n+            ) : (\r\n+              <p>No upcoming reservations.</p>\r\n+            )}\r\n           </div>\r\n-          <div className=\"form-group\">\r\n-            <label>Name:</label>\r\n-            <input type=\"text\" value={name} onChange={(e) => setName(e.target.value)} />\r\n+        )}\r\n+\r\n+        {activeTab === \"profile\" && (\r\n+          <div>\r\n+            <h3>Edit Profile</h3>\r\n+            <input type=\"text\" value={name} onChange={(e) => setName(e.target.value)} placeholder=\"Full Name\" />\r\n+            <input type=\"text\" value={mobile} onChange={(e) => setMobile(e.target.value)} placeholder=\"Mobile Number\" />\r\n+            <button>Update Profile</button>\r\n           </div>\r\n-          <div className=\"form-group\">\r\n-            <label>Mobile Number:</label>\r\n-            <input type=\"text\" value={mobile} onChange={(e) => setMobile(e.target.value)} />\r\n+        )}\r\n+\r\n+        {activeTab === \"activities\" && (\r\n+          <div>\r\n+            <h3>Past & Upcoming Reservations</h3>\r\n+            {bookings.length > 0 ? (\r\n+              bookings.map((booking, index) => (\r\n+                <p key={index}>Table for {booking.guests} on {booking.date} at {booking.time}</p>\r\n+              ))\r\n+            ) : (\r\n+              <p>No past reservations.</p>\r\n+            )}\r\n           </div>\r\n-          <button className=\"save-btn\">Save Changes</button>\r\n-        </div>\r\n-      )}\r\n-      \r\n-      {/* Activities Section */}\r\n-      {activeTab === \"activities\" && (\r\n-        <div className=\"tab-content\">\r\n-          <h2>Table Reservation History</h2>\r\n-          <p>No past reservations.</p>\r\n-        </div>\r\n-      )}\r\n-      \r\n-      {/* Recent Orders Section */}\r\n-      {activeTab === \"recent\" && (\r\n-        <div className=\"tab-content\">\r\n-          <h2>Recent Online Orders</h2>\r\n-          <p>No recent orders.</p>\r\n-        </div>\r\n-      )}\r\n+        )}\r\n+\r\n+        {activeTab === \"recent\" && (\r\n+          <div>\r\n+            <h3>Recent Online Orders</h3>\r\n+            {orders.length > 0 ? (\r\n+              orders.map((order, index) => (\r\n+                <p key={index}>{order.item} - {order.quantity}</p>\r\n+              ))\r\n+            ) : (\r\n+              <p>No past orders.</p>\r\n+            )}\r\n+          </div>\r\n+        )}\r\n+      </div>\r\n+\r\n+      <button className=\"logout-btn\" onClick={handleLogout}>Logout</button>\r\n     </div>\r\n   );\r\n };\r\n \r\n"
                },
                {
                    "date": 1739455346337,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,31 +7,33 @@\n   const navigate = useNavigate();\r\n   const [user, setUser] = useState(null);\r\n   const [name, setName] = useState(\"\");\r\n   const [email, setEmail] = useState(\"\");\r\n-  const [mobile, setMobile] = useState(\"\");\r\n+  const [dob, setDob] = useState(\"\");\r\n+  const [gender, setGender] = useState(\"\");\r\n   const [bookings, setBookings] = useState([]);\r\n   const [orders, setOrders] = useState([]);\r\n   const [profilePic, setProfilePic] = useState(\"\");\r\n   const [activeTab, setActiveTab] = useState(\"main\");\r\n+  const [showUploadModal, setShowUploadModal] = useState(false);\r\n \r\n   useEffect(() => {\r\n     const fetchUser = async () => {\r\n       const { data: user } = await supabase.auth.getUser();\r\n       if (user?.user) {\r\n         setUser(user.user);\r\n         setName(user.user.user_metadata.full_name || \"Guest\");\r\n         setEmail(user.user.email);\r\n-        setMobile(user.user.user_metadata.mobile || \"\");\r\n+        setDob(user.user.user_metadata.dob || \"\");\r\n+        setGender(user.user.user_metadata.gender || \"\");\r\n         setProfilePic(\r\n           user.user.user_metadata.avatar_url ||\r\n-            `https://api.dicebear.com/7.x/identicon/svg?seed=${user.user.id || \"default\"}`\r\n+          `https://api.dicebear.com/7.x/identicon/svg?seed=${user.user.id || \"default\"}`\r\n         );\r\n       } else {\r\n         navigate(\"/login\");\r\n       }\r\n     };\r\n-\r\n     fetchUser();\r\n   }, [navigate]);\r\n \r\n   const handleLogout = async () => {\r\n@@ -41,71 +43,99 @@\n \r\n   return (\r\n     <div className=\"profile-container\">\r\n       <div className=\"profile-header\">\r\n-        <img src={profilePic} alt=\"Profile\" className=\"profile-pic\" />\r\n+        <img \r\n+          src={profilePic} \r\n+          alt=\"Profile\" \r\n+          className=\"profile-pic\" \r\n+          onClick={() => activeTab === \"profile\" && setShowUploadModal(true)}\r\n+        />\r\n         <h2>{name}</h2>\r\n         <p>{email}</p>\r\n       </div>\r\n \r\n       <div className=\"profile-tabs\">\r\n-        <button onClick={() => setActiveTab(\"main\")}>Main</button>\r\n-        <button onClick={() => setActiveTab(\"profile\")}>Profile</button>\r\n-        <button onClick={() => setActiveTab(\"activities\")}>Activities</button>\r\n-        <button onClick={() => setActiveTab(\"recent\")}>Recent Orders</button>\r\n+        <button \r\n+          className={activeTab === \"main\" ? \"active\" : \"\"} \r\n+          onClick={() => setActiveTab(\"main\")}\r\n+        >Main</button>\r\n+        <button \r\n+          className={activeTab === \"profile\" ? \"active\" : \"\"} \r\n+          onClick={() => setActiveTab(\"profile\")}\r\n+        >Profile</button>\r\n+        <button \r\n+          className={activeTab === \"activities\" ? \"active\" : \"\"} \r\n+          onClick={() => setActiveTab(\"activities\")}\r\n+        >Activities</button>\r\n+        <button \r\n+          className={activeTab === \"recent\" ? \"active\" : \"\"} \r\n+          onClick={() => setActiveTab(\"recent\")}\r\n+        >Recent</button>\r\n       </div>\r\n \r\n-      <div className=\"profile-content\">\r\n-        {activeTab === \"main\" && (\r\n-          <div>\r\n-            <h3>Upcoming Table Reservations</h3>\r\n-            {bookings.length > 0 ? (\r\n-              bookings.map((booking, index) => (\r\n-                <p key={index}>Table for {booking.guests} on {booking.date} at {booking.time}</p>\r\n-              ))\r\n-            ) : (\r\n-              <p>No upcoming reservations.</p>\r\n-            )}\r\n-          </div>\r\n-        )}\r\n+      {activeTab === \"main\" && (\r\n+        <div className=\"profile-section active\">\r\n+          <h3>Upcoming Table Reservations</h3>\r\n+          {bookings.length > 0 ? (\r\n+            bookings.map((booking, index) => (\r\n+              <p key={index}>Table for {booking.guests} on {booking.date} at {booking.time}</p>\r\n+            ))\r\n+          ) : (\r\n+            <p>No upcoming reservations.</p>\r\n+          )}\r\n+          <button className=\"logout-btn\" onClick={handleLogout}>Logout</button>\r\n+        </div>\r\n+      )}\r\n \r\n-        {activeTab === \"profile\" && (\r\n-          <div>\r\n-            <h3>Edit Profile</h3>\r\n-            <input type=\"text\" value={name} onChange={(e) => setName(e.target.value)} placeholder=\"Full Name\" />\r\n-            <input type=\"text\" value={mobile} onChange={(e) => setMobile(e.target.value)} placeholder=\"Mobile Number\" />\r\n-            <button>Update Profile</button>\r\n-          </div>\r\n-        )}\r\n+      {activeTab === \"profile\" && (\r\n+        <div className=\"profile-section active\">\r\n+          <h3>Edit Profile</h3>\r\n+          <input type=\"text\" value={name} onChange={(e) => setName(e.target.value)} placeholder=\"Full Name\" />\r\n+          <input type=\"date\" value={dob} onChange={(e) => setDob(e.target.value)} placeholder=\"Date of Birth\" />\r\n+          <select value={gender} onChange={(e) => setGender(e.target.value)}>\r\n+            <option value=\"\">Select Gender</option>\r\n+            <option value=\"Male\">Male</option>\r\n+            <option value=\"Female\">Female</option>\r\n+            <option value=\"Other\">Other</option>\r\n+          </select>\r\n+          <button className=\"edit-btn\">Save Changes</button>\r\n+        </div>\r\n+      )}\r\n \r\n-        {activeTab === \"activities\" && (\r\n-          <div>\r\n-            <h3>Past & Upcoming Reservations</h3>\r\n-            {bookings.length > 0 ? (\r\n-              bookings.map((booking, index) => (\r\n-                <p key={index}>Table for {booking.guests} on {booking.date} at {booking.time}</p>\r\n-              ))\r\n-            ) : (\r\n-              <p>No past reservations.</p>\r\n-            )}\r\n-          </div>\r\n-        )}\r\n+      {activeTab === \"activities\" && (\r\n+        <div className=\"profile-section active\">\r\n+          <h3>Table Reservations (Past & Upcoming)</h3>\r\n+          {bookings.length > 0 ? (\r\n+            bookings.map((booking, index) => (\r\n+              <p key={index}>Table for {booking.guests} on {booking.date} at {booking.time}</p>\r\n+            ))\r\n+          ) : (\r\n+            <p>No reservations yet.</p>\r\n+          )}\r\n+        </div>\r\n+      )}\r\n \r\n-        {activeTab === \"recent\" && (\r\n-          <div>\r\n-            <h3>Recent Online Orders</h3>\r\n-            {orders.length > 0 ? (\r\n-              orders.map((order, index) => (\r\n-                <p key={index}>{order.item} - {order.quantity}</p>\r\n-              ))\r\n-            ) : (\r\n-              <p>No past orders.</p>\r\n-            )}\r\n-          </div>\r\n-        )}\r\n-      </div>\r\n+      {activeTab === \"recent\" && (\r\n+        <div className=\"profile-section active\">\r\n+          <h3>Recent Online Orders</h3>\r\n+          {orders.length > 0 ? (\r\n+            orders.map((order, index) => (\r\n+              <p key={index}>{order.item} - {order.quantity}</p>\r\n+            ))\r\n+          ) : (\r\n+            <p>No recent orders.</p>\r\n+          )}\r\n+        </div>\r\n+      )}\r\n \r\n-      <button className=\"logout-btn\" onClick={handleLogout}>Logout</button>\r\n+      {showUploadModal && (\r\n+        <div className=\"upload-modal active\">\r\n+          <h3>Update Profile Picture</h3>\r\n+          <input type=\"file\" accept=\"image/*\" />\r\n+          <button className=\"edit-btn\" onClick={() => setShowUploadModal(false)}>Upload</button>\r\n+        </div>\r\n+      )}\r\n     </div>\r\n   );\r\n };\r\n \r\n"
                },
                {
                    "date": 1739456737624,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,10 +33,29 @@\n         navigate(\"/login\");\r\n       }\r\n     };\r\n     fetchUser();\r\n+    fetchUserBookings();\r\n+    fetchUserOrders();\r\n   }, [navigate]);\r\n \r\n+  const fetchUserBookings = async () => {\r\n+    const { data, error } = await supabase.from(\"reservations\").select(\"*\").eq(\"user_id\", user?.id);\r\n+    if (!error) setBookings(data);\r\n+  };\r\n+\r\n+  const fetchUserOrders = async () => {\r\n+    const { data, error } = await supabase.from(\"orders\").select(\"*\").eq(\"user_id\", user?.id);\r\n+    if (!error) setOrders(data);\r\n+  };\r\n+\r\n+  const updateProfile = async () => {\r\n+    const { error } = await supabase.auth.updateUser({\r\n+      data: { full_name: name, dob, gender },\r\n+    });\r\n+    if (!error) alert(\"Profile updated successfully!\");\r\n+  };\r\n+\r\n   const handleLogout = async () => {\r\n     await supabase.auth.signOut();\r\n     navigate(\"/login\");\r\n   };\r\n@@ -54,24 +73,20 @@\n         <p>{email}</p>\r\n       </div>\r\n \r\n       <div className=\"profile-tabs\">\r\n-        <button \r\n-          className={activeTab === \"main\" ? \"active\" : \"\"} \r\n-          onClick={() => setActiveTab(\"main\")}\r\n-        >Main</button>\r\n-        <button \r\n-          className={activeTab === \"profile\" ? \"active\" : \"\"} \r\n-          onClick={() => setActiveTab(\"profile\")}\r\n-        >Profile</button>\r\n-        <button \r\n-          className={activeTab === \"activities\" ? \"active\" : \"\"} \r\n-          onClick={() => setActiveTab(\"activities\")}\r\n-        >Activities</button>\r\n-        <button \r\n-          className={activeTab === \"recent\" ? \"active\" : \"\"} \r\n-          onClick={() => setActiveTab(\"recent\")}\r\n-        >Recent</button>\r\n+        <button className={activeTab === \"main\" ? \"active\" : \"\"} onClick={() => setActiveTab(\"main\")}>\r\n+          Main\r\n+        </button>\r\n+        <button className={activeTab === \"profile\" ? \"active\" : \"\"} onClick={() => setActiveTab(\"profile\")}>\r\n+          Profile\r\n+        </button>\r\n+        <button className={activeTab === \"activities\" ? \"active\" : \"\"} onClick={() => setActiveTab(\"activities\")}>\r\n+          Activities\r\n+        </button>\r\n+        <button className={activeTab === \"recent\" ? \"active\" : \"\"} onClick={() => setActiveTab(\"recent\")}>\r\n+          Recent\r\n+        </button>\r\n       </div>\r\n \r\n       {activeTab === \"main\" && (\r\n         <div className=\"profile-section active\">\r\n@@ -97,9 +112,9 @@\n             <option value=\"Male\">Male</option>\r\n             <option value=\"Female\">Female</option>\r\n             <option value=\"Other\">Other</option>\r\n           </select>\r\n-          <button className=\"edit-btn\">Save Changes</button>\r\n+          <button className=\"edit-btn\" onClick={updateProfile}>Save Changes</button>\r\n         </div>\r\n       )}\r\n \r\n       {activeTab === \"activities\" && (\r\n@@ -126,16 +141,8 @@\n             <p>No recent orders.</p>\r\n           )}\r\n         </div>\r\n       )}\r\n-\r\n-      {showUploadModal && (\r\n-        <div className=\"upload-modal active\">\r\n-          <h3>Update Profile Picture</h3>\r\n-          <input type=\"file\" accept=\"image/*\" />\r\n-          <button className=\"edit-btn\" onClick={() => setShowUploadModal(false)}>Upload</button>\r\n-        </div>\r\n-      )}\r\n     </div>\r\n   );\r\n };\r\n \r\n"
                },
                {
                    "date": 1739457319303,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,8 @@\n import React, { useState, useEffect } from \"react\";\r\n import { supabase } from \"../../../supabaseConfig\";\r\n import { useNavigate } from \"react-router-dom\";\r\n+import { fetchUserData, updateProfileData, logoutUser } from \"../../../utils/keeps\";\r\n import \"./profile.css\";\r\n \r\n const Profile = () => {\r\n   const navigate = useNavigate();\r\n@@ -9,84 +10,65 @@\n   const [name, setName] = useState(\"\");\r\n   const [email, setEmail] = useState(\"\");\r\n   const [dob, setDob] = useState(\"\");\r\n   const [gender, setGender] = useState(\"\");\r\n+  const [mobile, setMobile] = useState(\"\"); // Added mobile state\r\n   const [bookings, setBookings] = useState([]);\r\n   const [orders, setOrders] = useState([]);\r\n   const [profilePic, setProfilePic] = useState(\"\");\r\n   const [activeTab, setActiveTab] = useState(\"main\");\r\n   const [showUploadModal, setShowUploadModal] = useState(false);\r\n \r\n   useEffect(() => {\r\n     const fetchUser = async () => {\r\n-      const { data: user } = await supabase.auth.getUser();\r\n-      if (user?.user) {\r\n-        setUser(user.user);\r\n-        setName(user.user.user_metadata.full_name || \"Guest\");\r\n-        setEmail(user.user.email);\r\n-        setDob(user.user.user_metadata.dob || \"\");\r\n-        setGender(user.user.user_metadata.gender || \"\");\r\n+      const userData = await fetchUserData();\r\n+      if (userData) {\r\n+        setUser(userData);\r\n+        setName(userData.full_name || \"Guest\");\r\n+        setEmail(userData.email);\r\n+        setDob(userData.dob || \"\");\r\n+        setGender(userData.gender || \"\");\r\n+        setMobile(userData.mobile || \"\"); // Fetch mobile number\r\n         setProfilePic(\r\n-          user.user.user_metadata.avatar_url ||\r\n-          `https://api.dicebear.com/7.x/identicon/svg?seed=${user.user.id || \"default\"}`\r\n+          userData.avatar_url ||\r\n+          `https://api.dicebear.com/7.x/identicon/svg?seed=${userData.id || \"default\"}`\r\n         );\r\n       } else {\r\n         navigate(\"/login\");\r\n       }\r\n     };\r\n     fetchUser();\r\n-    fetchUserBookings();\r\n-    fetchUserOrders();\r\n   }, [navigate]);\r\n \r\n-  const fetchUserBookings = async () => {\r\n-    const { data, error } = await supabase.from(\"reservations\").select(\"*\").eq(\"user_id\", user?.id);\r\n-    if (!error) setBookings(data);\r\n+  const handleLogout = async () => {\r\n+    await logoutUser();\r\n+    navigate(\"/login\");\r\n   };\r\n \r\n-  const fetchUserOrders = async () => {\r\n-    const { data, error } = await supabase.from(\"orders\").select(\"*\").eq(\"user_id\", user?.id);\r\n-    if (!error) setOrders(data);\r\n+  const handleProfileUpdate = async () => {\r\n+    const updatedData = { full_name: name, dob, gender, mobile };\r\n+    await updateProfileData(updatedData);\r\n+    alert(\"Profile updated successfully!\");\r\n   };\r\n \r\n-  const updateProfile = async () => {\r\n-    const { error } = await supabase.auth.updateUser({\r\n-      data: { full_name: name, dob, gender },\r\n-    });\r\n-    if (!error) alert(\"Profile updated successfully!\");\r\n-  };\r\n-\r\n-  const handleLogout = async () => {\r\n-    await supabase.auth.signOut();\r\n-    navigate(\"/login\");\r\n-  };\r\n-\r\n   return (\r\n     <div className=\"profile-container\">\r\n       <div className=\"profile-header\">\r\n-        <img \r\n-          src={profilePic} \r\n-          alt=\"Profile\" \r\n-          className=\"profile-pic\" \r\n+        <img\r\n+          src={profilePic}\r\n+          alt=\"Profile\"\r\n+          className=\"profile-pic\"\r\n           onClick={() => activeTab === \"profile\" && setShowUploadModal(true)}\r\n         />\r\n         <h2>{name}</h2>\r\n         <p>{email}</p>\r\n       </div>\r\n \r\n       <div className=\"profile-tabs\">\r\n-        <button className={activeTab === \"main\" ? \"active\" : \"\"} onClick={() => setActiveTab(\"main\")}>\r\n-          Main\r\n-        </button>\r\n-        <button className={activeTab === \"profile\" ? \"active\" : \"\"} onClick={() => setActiveTab(\"profile\")}>\r\n-          Profile\r\n-        </button>\r\n-        <button className={activeTab === \"activities\" ? \"active\" : \"\"} onClick={() => setActiveTab(\"activities\")}>\r\n-          Activities\r\n-        </button>\r\n-        <button className={activeTab === \"recent\" ? \"active\" : \"\"} onClick={() => setActiveTab(\"recent\")}>\r\n-          Recent\r\n-        </button>\r\n+        <button className={activeTab === \"main\" ? \"active\" : \"\"} onClick={() => setActiveTab(\"main\")}>Main</button>\r\n+        <button className={activeTab === \"profile\" ? \"active\" : \"\"} onClick={() => setActiveTab(\"profile\")}>Profile</button>\r\n+        <button className={activeTab === \"activities\" ? \"active\" : \"\"} onClick={() => setActiveTab(\"activities\")}>Activities</button>\r\n+        <button className={activeTab === \"recent\" ? \"active\" : \"\"} onClick={() => setActiveTab(\"recent\")}>Recent</button>\r\n       </div>\r\n \r\n       {activeTab === \"main\" && (\r\n         <div className=\"profile-section active\">\r\n@@ -112,9 +94,15 @@\n             <option value=\"Male\">Male</option>\r\n             <option value=\"Female\">Female</option>\r\n             <option value=\"Other\">Other</option>\r\n           </select>\r\n-          <button className=\"edit-btn\" onClick={updateProfile}>Save Changes</button>\r\n+          <input\r\n+            type=\"tel\"\r\n+            value={mobile}\r\n+            onChange={(e) => setMobile(e.target.value)}\r\n+            placeholder=\"Mobile Number\"\r\n+          />\r\n+          <button className=\"edit-btn\" onClick={handleProfileUpdate}>Save Changes</button>\r\n         </div>\r\n       )}\r\n \r\n       {activeTab === \"activities\" && (\r\n@@ -141,8 +129,16 @@\n             <p>No recent orders.</p>\r\n           )}\r\n         </div>\r\n       )}\r\n+\r\n+      {showUploadModal && (\r\n+        <div className=\"upload-modal active\">\r\n+          <h3>Update Profile Picture</h3>\r\n+          <input type=\"file\" accept=\"image/*\" />\r\n+          <button className=\"edit-btn\" onClick={() => setShowUploadModal(false)}>Upload</button>\r\n+        </div>\r\n+      )}\r\n     </div>\r\n   );\r\n };\r\n \r\n"
                },
                {
                    "date": 1739457586834,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,14 +10,13 @@\n   const [name, setName] = useState(\"\");\r\n   const [email, setEmail] = useState(\"\");\r\n   const [dob, setDob] = useState(\"\");\r\n   const [gender, setGender] = useState(\"\");\r\n-  const [mobile, setMobile] = useState(\"\"); // Added mobile state\r\n+  const [mobile, setMobile] = useState(\"\"); // Mobile number support\r\n   const [bookings, setBookings] = useState([]);\r\n   const [orders, setOrders] = useState([]);\r\n   const [profilePic, setProfilePic] = useState(\"\");\r\n   const [activeTab, setActiveTab] = useState(\"main\");\r\n-  const [showUploadModal, setShowUploadModal] = useState(false);\r\n \r\n   useEffect(() => {\r\n     const fetchUser = async () => {\r\n       const userData = await fetchUserData();\r\n@@ -52,14 +51,9 @@\n \r\n   return (\r\n     <div className=\"profile-container\">\r\n       <div className=\"profile-header\">\r\n-        <img\r\n-          src={profilePic}\r\n-          alt=\"Profile\"\r\n-          className=\"profile-pic\"\r\n-          onClick={() => activeTab === \"profile\" && setShowUploadModal(true)}\r\n-        />\r\n+        <img src={profilePic} alt=\"Profile\" className=\"profile-pic\" />\r\n         <h2>{name}</h2>\r\n         <p>{email}</p>\r\n       </div>\r\n \r\n@@ -129,16 +123,8 @@\n             <p>No recent orders.</p>\r\n           )}\r\n         </div>\r\n       )}\r\n-\r\n-      {showUploadModal && (\r\n-        <div className=\"upload-modal active\">\r\n-          <h3>Update Profile Picture</h3>\r\n-          <input type=\"file\" accept=\"image/*\" />\r\n-          <button className=\"edit-btn\" onClick={() => setShowUploadModal(false)}>Upload</button>\r\n-        </div>\r\n-      )}\r\n     </div>\r\n   );\r\n };\r\n \r\n"
                },
                {
                    "date": 1739462854441,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,10 @@\n import React, { useState, useEffect } from \"react\";\r\n import { supabase } from \"../../../supabaseConfig\";\r\n import { useNavigate } from \"react-router-dom\";\r\n import { fetchUserData, updateProfileData, logoutUser } from \"../../../utils/keeps\";\r\n+import { ToastContainer, toast } from \"react-toastify\";\r\n+import \"react-toastify/dist/ReactToastify.css\";\r\n import \"./profile.css\";\r\n \r\n const Profile = () => {\r\n   const navigate = useNavigate();\r\n@@ -10,9 +12,9 @@\n   const [name, setName] = useState(\"\");\r\n   const [email, setEmail] = useState(\"\");\r\n   const [dob, setDob] = useState(\"\");\r\n   const [gender, setGender] = useState(\"\");\r\n-  const [mobile, setMobile] = useState(\"\"); // Mobile number support\r\n+  const [mobile, setMobile] = useState(\"\");\r\n   const [bookings, setBookings] = useState([]);\r\n   const [orders, setOrders] = useState([]);\r\n   const [profilePic, setProfilePic] = useState(\"\");\r\n   const [activeTab, setActiveTab] = useState(\"main\");\r\n@@ -25,19 +27,40 @@\n         setName(userData.full_name || \"Guest\");\r\n         setEmail(userData.email);\r\n         setDob(userData.dob || \"\");\r\n         setGender(userData.gender || \"\");\r\n-        setMobile(userData.mobile || \"\"); // Fetch mobile number\r\n+        setMobile(userData.mobile || \"\");\r\n         setProfilePic(\r\n           userData.avatar_url ||\r\n           `https://api.dicebear.com/7.x/identicon/svg?seed=${userData.id || \"default\"}`\r\n         );\r\n       } else {\r\n         navigate(\"/login\");\r\n       }\r\n     };\r\n+\r\n+    const fetchBookings = async () => {\r\n+      const { data, error } = await supabase\r\n+        .from(\"bookings\")\r\n+        .select(\"*\")\r\n+        .eq(\"user_id\", user?.id);\r\n+      if (!error) setBookings(data || []);\r\n+    };\r\n+\r\n+    const fetchOrders = async () => {\r\n+      const { data, error } = await supabase\r\n+        .from(\"orders\")\r\n+        .select(\"*\")\r\n+        .eq(\"user_id\", user?.id)\r\n+        .order(\"order_date\", { ascending: false })\r\n+        .limit(5);\r\n+      if (!error) setOrders(data || []);\r\n+    };\r\n+\r\n     fetchUser();\r\n-  }, [navigate]);\r\n+    fetchBookings();\r\n+    fetchOrders();\r\n+  }, [navigate, user?.id]);\r\n \r\n   const handleLogout = async () => {\r\n     await logoutUser();\r\n     navigate(\"/login\");\r\n@@ -45,13 +68,25 @@\n \r\n   const handleProfileUpdate = async () => {\r\n     const updatedData = { full_name: name, dob, gender, mobile };\r\n     await updateProfileData(updatedData);\r\n-    alert(\"Profile updated successfully!\");\r\n+    toast.success(\"Profile updated successfully!\", {\r\n+      position: \"top-right\",\r\n+      autoClose: 3000,\r\n+      hideProgressBar: true,\r\n+      closeOnClick: true,\r\n+      pauseOnHover: true,\r\n+      draggable: true,\r\n+      theme: \"colored\",\r\n+    });\r\n   };\r\n \r\n+  const upcomingBookings = bookings.filter((b) => new Date(b.date) >= new Date());\r\n+  const pastBookings = bookings.filter((b) => new Date(b.date) < new Date());\r\n+\r\n   return (\r\n     <div className=\"profile-container\">\r\n+      <ToastContainer />\r\n       <div className=\"profile-header\">\r\n         <img src={profilePic} alt=\"Profile\" className=\"profile-pic\" />\r\n         <h2>{name}</h2>\r\n         <p>{email}</p>\r\n@@ -66,10 +101,10 @@\n \r\n       {activeTab === \"main\" && (\r\n         <div className=\"profile-section active\">\r\n           <h3>Upcoming Table Reservations</h3>\r\n-          {bookings.length > 0 ? (\r\n-            bookings.map((booking, index) => (\r\n+          {upcomingBookings.length > 0 ? (\r\n+            upcomingBookings.map((booking, index) => (\r\n               <p key={index}>Table for {booking.guests} on {booking.date} at {booking.time}</p>\r\n             ))\r\n           ) : (\r\n             <p>No upcoming reservations.</p>\r\n@@ -80,36 +115,42 @@\n \r\n       {activeTab === \"profile\" && (\r\n         <div className=\"profile-section active\">\r\n           <h3>Edit Profile</h3>\r\n-          <input type=\"text\" value={name} onChange={(e) => setName(e.target.value)} placeholder=\"Full Name\" />\r\n-          <input type=\"date\" value={dob} onChange={(e) => setDob(e.target.value)} placeholder=\"Date of Birth\" />\r\n-          <select value={gender} onChange={(e) => setGender(e.target.value)}>\r\n-            <option value=\"\">Select Gender</option>\r\n-            <option value=\"Male\">Male</option>\r\n-            <option value=\"Female\">Female</option>\r\n-            <option value=\"Other\">Other</option>\r\n-          </select>\r\n-          <input\r\n-            type=\"tel\"\r\n-            value={mobile}\r\n-            onChange={(e) => setMobile(e.target.value)}\r\n-            placeholder=\"Mobile Number\"\r\n-          />\r\n+          <div className=\"input-grid\">\r\n+            <input type=\"text\" value={name} onChange={(e) => setName(e.target.value)} placeholder=\"Full Name\" />\r\n+            <input type=\"date\" value={dob} onChange={(e) => setDob(e.target.value)} placeholder=\"Date of Birth\" />\r\n+            <select value={gender} onChange={(e) => setGender(e.target.value)}>\r\n+              <option value=\"\">Select Gender</option>\r\n+              <option value=\"Male\">Male</option>\r\n+              <option value=\"Female\">Female</option>\r\n+              <option value=\"Other\">Other</option>\r\n+            </select>\r\n+            <input type=\"tel\" value={mobile} onChange={(e) => setMobile(e.target.value)} placeholder=\"Mobile Number\" />\r\n+          </div>\r\n           <button className=\"edit-btn\" onClick={handleProfileUpdate}>Save Changes</button>\r\n         </div>\r\n       )}\r\n \r\n       {activeTab === \"activities\" && (\r\n         <div className=\"profile-section active\">\r\n           <h3>Table Reservations (Past & Upcoming)</h3>\r\n-          {bookings.length > 0 ? (\r\n-            bookings.map((booking, index) => (\r\n+          <h4>Upcoming</h4>\r\n+          {upcomingBookings.length > 0 ? (\r\n+            upcomingBookings.map((booking, index) => (\r\n               <p key={index}>Table for {booking.guests} on {booking.date} at {booking.time}</p>\r\n             ))\r\n           ) : (\r\n-            <p>No reservations yet.</p>\r\n+            <p>No upcoming reservations.</p>\r\n           )}\r\n+          <h4>Past</h4>\r\n+          {pastBookings.length > 0 ? (\r\n+            pastBookings.map((booking, index) => (\r\n+              <p key={index}>Table for {booking.guests} on {booking.date} at {booking.time}</p>\r\n+            ))\r\n+          ) : (\r\n+            <p>No past reservations.</p>\r\n+          )}\r\n         </div>\r\n       )}\r\n \r\n       {activeTab === \"recent\" && (\r\n"
                }
            ],
            "date": 1739105242964,
            "name": "Commit-0",
            "content": "import React, { useState, useEffect } from \"react\";\r\nimport { auth } from \"../../firebaseConfig\";\r\nimport { updateProfile, updateEmail, updatePassword } from \"firebase/auth\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"./auth.css\";\r\n\r\nconst Profile = () => {\r\n  const user = auth.currentUser;\r\n  const navigate = useNavigate();\r\n\r\n  const [name, setName] = useState(user?.displayName || \"\");\r\n  const [email, setEmail] = useState(user?.email || \"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      setName(user.displayName || \"\");\r\n      setEmail(user.email || \"\");\r\n    }\r\n  }, [user]);\r\n\r\n  const handleUpdateProfile = async (e) => {\r\n    e.preventDefault();\r\n    setMessage(\"\");\r\n\r\n    try {\r\n      if (name !== user.displayName) {\r\n        await updateProfile(user, { displayName: name });\r\n      }\r\n      if (email !== user.email) {\r\n        await updateEmail(user, email);\r\n      }\r\n      if (password) {\r\n        await updatePassword(user, password);\r\n      }\r\n      setMessage(\"Profile updated successfully!\");\r\n    } catch (error) {\r\n      setMessage(error.message);\r\n    }\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    await auth.signOut();\r\n    navigate(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth-container\">\r\n      <h2>Update Profile</h2>\r\n      {message && <p className=\"message\">{message}</p>}\r\n      <form onSubmit={handleUpdateProfile}>\r\n        <input type=\"text\" placeholder=\"Name\" value={name} onChange={(e) => setName(e.target.value)} />\r\n        <input type=\"email\" placeholder=\"Email\" value={email} onChange={(e) => setEmail(e.target.value)} />\r\n        <input type=\"password\" placeholder=\"New Password (optional)\" value={password} onChange={(e) => setPassword(e.target.value)} />\r\n        <button type=\"submit\">Update Profile</button>\r\n      </form>\r\n      <button className=\"logout-btn\" onClick={handleLogout}>Logout</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"
        }
    ]
}